# GitRead
[![Ask DeepWiki](https://devin.ai/assets/askdeepwiki.png)](https://deepwiki.com/gitreadhq/gitread)

GitRead is an AI-powered application that automates the creation of professional README files for public GitHub repositories. By analyzing a repository's code, structure, and metadata, GitRead generates comprehensive and well-formatted documentation, saving developers time and effort.

## Features

-   **AI-Powered Generation**: Leverages large language models (Gemini via OpenRouter) to generate high-quality, context-aware READMEs.
-   **Deep Repository Analysis**: Utilizes the `gitingest` library to perform a deep analysis of the repository's file structure, content, and overall architecture.
-   **Credit-Based System**: Users can purchase credits via Stripe to generate READMEs. Each new user receives an initial credit.
-   **User Authentication**: Secure sign-in and user management powered by Clerk.
-   **Generation History**: Authenticated users can view, access, and reuse their previously generated READMEs.
-   **Interactive Editor**: A side-by-side Markdown editor and preview allows for easy editing and viewing of the final output.
-   **Dark/Light Mode**: A sleek interface with theme toggling for user comfort.

## Architecture

GitRead is a full-stack Next.js application with a serverless backend architecture. The generation process follows these steps:

1.  **User Input**: A user provides a public GitHub repository URL on the frontend.
2.  **Authentication**: The user signs in using Clerk. The frontend client manages the user session.
3.  **API Request**: The frontend calls the `POST /api/generate` endpoint with the repository URL.
4.  **Credit Check**: The API route verifies the user's identity and checks their available credits in the Supabase `user_credits` table.
5.  **Repository Ingestion**: The backend makes a secure call to an external Python microservice. This service uses the `gitingest` library to clone the specified repository, analyze its contents, summarize key files, and generate a directory tree.
6.  **AI Prompting**: The summarized content, code, and file tree are formatted into a detailed prompt.
7.  **README Generation**: The prompt is sent to the Gemini Pro model via the OpenRouter API, which returns the generated README.
8.  **Credit Deduction & History**: Upon successful generation, one credit is deducted from the user's account in Supabase, and the generated README is saved to the `generated_readmes` table.
9.  **Display**: The final README is sent back to the frontend and displayed in the editor.

## Tech Stack

-   **Framework**: [Next.js](https://nextjs.org/) (with App Router)
-   **Frontend**: [React](https://reactjs.org/), [Tailwind CSS](https://tailwindcss.com/)
-   **AI**: [Gemini Pro](https://deepmind.google/technologies/gemini/) via [OpenRouter](https://openrouter.ai/)
-   **Backend**: Next.js API Routes (Serverless Functions)
-   **Repository Ingestion**: [gitingest](https://github.com/repomix/gitingest) (via a Python microservice)
-   **Database & BaaS**: [Supabase](https://supabase.io/) (PostgreSQL, Storage, RLS)
-   **Authentication**: [Clerk](https://clerk.dev/)
-   **Payments**: [Stripe](https://stripe.com/)

## API Endpoints

The application exposes several API endpoints under `/api/`:

| Method | Endpoint                      | Description                                                  |
| :----- | :---------------------------- | :----------------------------------------------------------- |
| `POST` | `/api/generate`               | Main endpoint to generate a README from a repository URL.    |
| `GET`  | `/api/credits`                | Fetches the current user's credit balance.                   |
| `POST` | `/api/credits`                | Updates the current user's credit balance.                   |
| `GET`  | `/api/readme-history`         | Retrieves a history of all READMEs generated by the user.    |
| `POST` | `/api/readme-history`         | Saves a newly generated README to the user's history.        |
| `POST` | `/api/create-checkout-session`| Creates a Stripe checkout session for purchasing credits.    |
| `POST` | `/api/verify-payment`         | Verifies a completed Stripe payment and adds credits to the user's account. |

## Local Development

To run GitRead locally, you will need Node.js, and a package manager like npm or yarn.

### 1. Clone the Repository

```bash
git clone https://github.com/gitreadhq/gitread.git
cd gitread
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Set Up Environment Variables

Create a `.env.local` file in the root of the project and add the following environment variables.

```env
# Application URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# OpenRouter API Key
OPENROUTER_API_KEY=your_openrouter_api_key

# Python Ingestion API Key (for the external service)
PYTHON_API_KEY=your_python_api_key

# Clerk Keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key
CLERK_SECRET_KEY=your_clerk_secret_key

# Supabase Keys
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Stripe Keys
STRIPE_SECRET_KEY=your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
```

### 4. Set Up Supabase

1.  Create a new project on [Supabase](https://supabase.io/).
2.  In the SQL Editor, run the migration files located in the `supabase/migrations/` directory to create the necessary tables and policies:
    -   `20240320000000_add_credit_transaction.sql`
    -   `20240320000000_rls_policies.sql`
3.  Obtain your project URL and API keys and add them to your `.env.local` file.

### 5. Run the Development Server

```bash
npm run dev
```

The application will be available at `http://localhost:3000`.
